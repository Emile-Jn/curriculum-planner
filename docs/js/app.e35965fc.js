(()=>{"use strict";var e={155:(e,s,t)=>{var r=t(751),i=t(641),o=t(33);const l=e=>((0,i.Qi)("data-v-15fa51ac"),e=e(),(0,i.jt)(),e),a={class:"container"},c={class:"sidebar"},n={class:"tables"},u={id:"buttons"},d={class:"requirements"},h=l((()=>(0,i.Lk)("h2",null,"Requirements",-1))),p={class:"req"},m=l((()=>(0,i.Lk)("h3",null,"Foundations courses",-1))),v={class:"req"},k=l((()=>(0,i.Lk)("h3",null,"Interdisciplinary data science",-1))),C={class:"req"},f=l((()=>(0,i.Lk)("h3",null,"Cores",-1))),q={class:"req"},b=l((()=>(0,i.Lk)("h3",null,"Specialisation (cores & extensions)",-1))),L={class:"req"},S=l((()=>(0,i.Lk)("h3",null,"Transferable skills",-1))),_={class:"req"},y=l((()=>(0,i.Lk)("h3",null,"Free electives",-1))),E={class:"req"},w=l((()=>(0,i.Lk)("h3",null,"Thesis",-1)));function T(e,s,t,r,l,T){const x=(0,i.g2)("SearchBar"),g=(0,i.g2)("Semester");return(0,i.uX)(),(0,i.CE)("div",a,[(0,i.Lk)("div",c,[l.showSearch?((0,i.uX)(),(0,i.Wv)(x,{key:0,courses:l.courses.filter((e=>e.available)),season:l.activeSeason,onSelectCourse:T.addCourseToSemester},null,8,["courses","season","onSelectCourse"])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",n,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.tables,((e,s)=>((0,i.uX)(),(0,i.CE)("div",{key:s},[(0,i.bF)(g,{rows:e.rows,"table-index":s,season:l.seasons[s],onActivateSearch:T.activateSearch,onRemoveCourse:T.handleRemoveCourse},null,8,["rows","table-index","season","onActivateSearch","onRemoveCourse"])])))),128)),(0,i.Lk)("div",u,[(0,i.Lk)("button",{onClick:s[0]||(s[0]=e=>T.addSemester("winter"))},"Add winter semester"),(0,i.Lk)("button",{onClick:s[1]||(s[1]=e=>T.addSemester("summer"))},"Add summer semester")])]),(0,i.Lk)("div",d,[h,(0,i.Lk)("div",p,[m,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["foundations"]["check"])+" "+(0,o.v_)(this.requirements["foundations"]["completed"])+" / "+(0,o.v_)(this.requirements["foundations"]["req"])+" ECTS",1)]),(0,i.Lk)("div",v,[k,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["interdisciplinary"]["check"])+" "+(0,o.v_)(this.requirements["interdisciplinary"]["completed"])+" / "+(0,o.v_)(this.requirements["interdisciplinary"]["req"])+" ECTS",1)]),(0,i.Lk)("div",C,[f,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["cores"]["check"])+" "+(0,o.v_)(this.requirements["cores"]["completed"])+" / "+(0,o.v_)(this.requirements["cores"]["req"])+" cores",1)]),(0,i.Lk)("div",q,[b,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["specialisation"]["check"])+" "+(0,o.v_)(this.requirements["specialisation"]["completed"])+" / "+(0,o.v_)(this.requirements["specialisation"]["req"])+" ECTS",1)]),(0,i.Lk)("div",L,[S,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["transferable"]["check"])+" "+(0,o.v_)(this.requirements["transferable"]["completed"])+" / "+(0,o.v_)(this.requirements["transferable"]["req"])+" ECTS",1)]),(0,i.Lk)("div",_,[y,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["freeElectives"]["check"])+" "+(0,o.v_)(this.requirements["freeElectives"]["completed"])+" / "+(0,o.v_)(this.requirements["freeElectives"]["req"])+" ECTS",1)]),(0,i.Lk)("div",E,[w,(0,i.Lk)("h4",null,(0,o.v_)(this.requirements["thesis"]["check"])+" "+(0,o.v_)(this.requirements["thesis"]["completed"])+" / "+(0,o.v_)(this.requirements["thesis"]["req"])+" ECTS",1)])])])}const x=e=>((0,i.Qi)("data-v-5336a300"),e=e(),(0,i.jt)(),e),g={class:"table"},I=x((()=>(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"#"),(0,i.Lk)("th",null,"Module"),(0,i.Lk)("th",null,"Code"),(0,i.Lk)("th",null,"Title"),(0,i.Lk)("th",null,"Type"),(0,i.Lk)("th",null,"ECTS"),(0,i.Lk)("th",null,"Remove")],-1))),F={class:"centred"},O={class:"centred"},A={class:"centred"},X={class:"centred"},R={class:"centred"},j={class:"centred"},M=["onClick"];function N(e,s,t,r,l,a){return(0,i.uX)(),(0,i.CE)("div",g,[(0,i.Lk)("h2",null,"Semester "+(0,o.v_)(t.tableIndex+1)+" ("+(0,o.v_)(t.season)+")",1),(0,i.Lk)("h3",null,"ECTS: "+(0,o.v_)(a.totalCredits),1),(0,i.Lk)("table",null,[I,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.rows,((s,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:t},[(0,i.Lk)("td",F,(0,o.v_)(t+1),1),(0,i.Lk)("td",O,(0,o.v_)(s.module),1),(0,i.Lk)("td",A,(0,o.v_)(s.code),1),(0,i.Lk)("td",null,(0,o.v_)(s.title),1),(0,i.Lk)("td",X,(0,o.v_)(s.type),1),(0,i.Lk)("td",R,(0,o.v_)(s.credits),1),(0,i.Lk)("td",j,[(0,i.Lk)("span",{onClick:s=>e.$emit("remove-course",t,this.tableIndex),class:"remove-icon"},"🗑️",8,M)])])))),128))]),(0,i.Lk)("button",{onClick:s[0]||(s[0]=s=>e.$emit("activate-search",this.tableIndex,this.season))},"Add course")])}const K={props:{rows:{type:Array,required:!0},tableIndex:{type:Number,required:!0},season:{type:String,required:!0}},computed:{totalCredits(){return this.rows.reduce(((e,s)=>e+s.credits),0)}}};var D=t(262);const Q=(0,D.A)(K,[["render",N],["__scopeId","data-v-5336a300"]]),B=Q,J={key:0},P=["onClick"];function $(e,s,t,l,a,c){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>a.query=e),placeholder:"Search for a course..."},null,512),[[r.Jo,a.query]]),c.filteredCourses.length?((0,i.uX)(),(0,i.CE)("div",J,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(c.filteredCourses,(e=>((0,i.uX)(),(0,i.CE)("div",{key:e.code,onClick:s=>c.selectCourse(e),style:{padding:"8px",cursor:"pointer"}},(0,o.v_)(e.title)+" "+(0,o.v_)(e.type),9,P)))),128))])):(0,i.Q3)("",!0)])}const V={props:{courses:Array,season:String},data(){return{query:""}},computed:{filteredCourses(){return this.courses.filter((e=>e.title.toLowerCase().includes(this.query.toLowerCase())&&e.semester.toLowerCase().includes(this.season.toLowerCase()[0])))}},methods:{selectCourse(e){this.$emit("select-course",e),this.query=""}}},H=(0,D.A)(V,[["render",$],["__scopeId","data-v-10f304ca"]]),U=H;var W=t(809),z=t.n(W),G=t(543);const Y={components:{Semester:B,SearchBar:U},data(){return{tables:[],seasons:[],courses:[],availableCourses:[],chosenCourses:[],activeTableIndex:null,activeSeason:null,showSearch:!1,extraSpecialisationCredits:0,coreNames:["FDS/CO","MLS/CO","BDHPC/CO","VAST/CO"],requirements:{foundations:{completed:0,req:36,check:"❌"},interdisciplinary:{completed:0,req:9,check:"❌"},cores:{completed:0,req:2,check:"❌"},specialisation:{completed:0,req:36,check:"❌"},transferable:{completed:0,req:4.5,check:"❌"},freeElectives:{completed:0,req:4.5,check:"❌"},thesis:{completed:0,req:30,check:"❌"}}}},created(){const e=localStorage.getItem("curriculum");e?this.courses=JSON.parse(e):fetch("curriculum.tsv").then((e=>e.text())).then((e=>{this.courses=z().parse(e,{header:!0,delimiter:"\t"}).data.map((e=>(e.credits=Number(e.credits),e.available=!0,e.chosen=!1,e))),localStorage.setItem("curriculum",JSON.stringify(this.courses))}))},methods:{addSemester(e){this.tables.push({rows:[]}),this.seasons.push(e)},activateSearch(e,s){this.activeTableIndex=e,this.activeSeason=s,this.showSearch=!0},addCourseToSemester(e){null!==this.activeTableIndex&&(this.tables[this.activeTableIndex].rows.push(e),this.chosenCourses.push(e),this.availableCourses=this.availableCourses.filter((s=>s.code!==e.code)),this.courses.filter((s=>s.code===e.code)).forEach((e=>e.available=!1)),this.courses.filter((s=>s.code===e.code&&s.semester===e.semester)).forEach((e=>e.chosen=!0)),this.showSearch=!1,this.updateRequirements(e.module))},handleRemoveCourse(e,s){console.log("Removing course at table",s,"and row",e);let t=this.tables[s].rows[e];this.tables[s].rows.splice(e,1),this.availableCourses.push(t),this.chosenCourses=this.chosenCourses.filter((e=>e.code!==t.code)),this.courses.filter((e=>e.code===t.code)).forEach((e=>e.available=!0)),this.courses.filter((e=>e.code===t.code&&e.semester===t.semester)).forEach((e=>e.chosen=!1)),this.updateRequirements(t.module)},updateRequirements(e){"Foundations"===e?this.updateFoundations():"DSA"===e?this.updateInterdisciplinary():e.includes("/CO")?(this.updateCores(),this.updateSpecialisation(),this.updateFreeElectives()):e.includes("/EX")?(this.updateSpecialisation(),this.updateFreeElectives()):"TSK"===e?(this.updateTransferable(),this.updateFreeElectives()):"Thesis"===e?this.updateThesis():this.updateFreeElectives()},updateCheck(e){this.requirements[e]["completed"]>=this.requirements[e]["req"]?this.requirements[e]["check"]="✅":this.requirements[e]["check"]="❌"},coreCompletion(e){let s=this.courses.filter((s=>s.module.includes(e)&&s.available)),t=this.courses.filter((s=>s.module.includes(e)&&s.chosen)),r=t.reduce(((e,s)=>e+s.credits),0);return console.log("Available cores:",s),[0===s.length,r]},updateModule(e,s){let t=this.chosenCourses.filter((s=>s.module===e));this.requirements[s]["completed"]=t.reduce(((e,s)=>e+s.credits),0),this.updateCheck(s)},updateFoundations(){this.updateModule("Foundations","foundations")},updateInterdisciplinary(){this.updateModule("DSA","interdisciplinary")},updateCores(){let e=0;for(let s of this.coreNames)console.log("Core name:",s),this.coreCompletion(s)[0]&&e++;this.requirements["cores"]["completed"]=e,this.updateCheck("cores")},updateSpecialisation(){let e=0,s=0;for(let t in this.coreNames){let r=this.coreCompletion(t),i=t.split("/")[0],o=i+"/EX",l=this.courses.filter((e=>e.module===o&&!0===e.chosen)),a=l.reduce(((e,s)=>e+s.credits),0);if(r[0]){e+=r[1],e+=(0,G.min)([a,18]);let t=(0,G.max)([a-18,0]);s+=t}else s+=r[1],s+=a}this.extraSpecialisationCredits=s,this.requirements["specialisation"]["completed"]=e,this.updateCheck("specialisation")},updateTransferable(){this.updateModule("TSK","transferable")},updateFreeElectives(){let e=this.extraSpecialisationCredits;e+=(0,G.max)([this.requirements["transferable"]["completed"]-4.5,0]);let s=this.courses.filter((e=>"Free Elective"===e.module&&e.chosen));e+=s.reduce(((e,s)=>e+s.credits),0),this.requirements["freeElectives"]["completed"]=e},updateThesis(){this.updateModule("Thesis","thesis")}}},Z=(0,D.A)(Y,[["render",T],["__scopeId","data-v-15fa51ac"]]),ee=Z;(0,r.Ef)(ee).mount("#app")}},s={};function t(r){var i=s[r];if(void 0!==i)return i.exports;var o=s[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}t.m=e,(()=>{var e=[];t.O=(s,r,i,o)=>{if(!r){var l=1/0;for(u=0;u<e.length;u++){for(var[r,i,o]=e[u],a=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(t.O).every((e=>t.O[e](r[c])))?r.splice(c--,1):(a=!1,o<l&&(l=o));if(a){e.splice(u--,1);var n=i();void 0!==n&&(s=n)}}return s}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]}})(),(()=>{t.n=e=>{var s=e&&e.__esModule?()=>e["default"]:()=>e;return t.d(s,{a:s}),s}})(),(()=>{t.d=(e,s)=>{for(var r in s)t.o(s,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s)})(),(()=>{t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={524:0};t.O.j=s=>0===e[s];var s=(s,r)=>{var i,o,[l,a,c]=r,n=0;if(l.some((s=>0!==e[s]))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(c)var u=c(t)}for(s&&s(r);n<l.length;n++)o=l[n],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(u)},r=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))})();var r=t.O(void 0,[504],(()=>t(155)));r=t.O(r)})();
//# sourceMappingURL=app.e35965fc.js.map